<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href='https://cdn.jsdelivr.net/npm/bootstrap@5.1.1/dist/css/bootstrap.min.css' rel='stylesheet' integrity='sha384-F3w7mX95PdgyTmZZMECAngseQB83DfGTowi0iMjiWaeVhAn4FJkqJByhZMI3AhiU' crossorigin='anonymous'>
    <title>Habit Tracker</title>
</head>
<body>
    <div class="container" >
        <br>
        <div class="" style="text-align:center; margin-right: 20%; margin-left: 20%;">
            <h2>Welcome {{logged_in_user.first_name}} {{logged_in_user.last_name}}</h2>
            <!-- this button doesn't work, is in habit controller -->
            <a href="/habits/new"><button class="btn btn-primary">New Habit</button></a>
            <!-- this button only works because test is in user controller -->
            <a href="/test"><button class="btn btn-primary">Test</button></a>
            <!-- this button works, user controller  -->
            <a href="/logout"><button class="btn btn-warning">Log-out</button></a>
<br>
<br>
                <h3>Your current tracked habits</h3>
                <table class="table table-bordered">
                    <thead>
                        <tr>
                            <th>Title</th>
                            <th>Description</th>
                            <th>Streak Count</th>
                            <th>Actions</th>
                        </tr>
                    </thead>
                    <tbody>
                        {% for habit in all_habits  %}
                        <tr>
                            <td>{{habit.name}}</td>
                            <td>{{habit.description}}</td>
                            <td>{{habit.streak_count}}</td>
                            <td>
                                <a href="/habits/{{   habit.id  }}"><button class="btn btn-primary">View</button></a>
                                {%  if logged_in_user.id == habit.user.id  %}
                                <a href="/habits/{{  habit.id  }}/edit"><button class="btn btn-warning">Edit</button></a>
                                <a href="/habits/{{  habit.id  }}/destroy"><button class="btn btn-danger">Delete</button></a>
                            {% endif %}
                        </td>
                    </tr>
                    {% endfor  %}
                </tbody>
            </table>
        </div>
        </div>
    </div>
</body>
</html>